<div
  class="bg-white dark:bg-white/10 m-0 p-0 text-theme-gray dark:text-white/60 text-[14px] rounded-10 relative mb-[25px]">
  <div
    class="pt-[30px] pb-[9px] px-[25px] text-dark dark:text-white/[.87] font-medium text-[17px] flex items-center justify-between max-sm:flex-col max-sm:gap-[14px]">
    <h4 class="mb-0 text-[20px] leading-6 font-medium text-dark dark:text-white/[.87]">
      List of Orders
    </h4>
  </div>
  <div class="px-[25px] pb-[25px]">
    <div
      class="flex items-center justify-center w-full mt-5 mb-[25px] max-md:flex-col max-md:justify-center gap-[14px]">
      <div class="inline-flex items-center flex-wrap w-full gap-[20px] max-md:justify-center">
        <div class="inline-flex items-center">
          <span class="me-2 dark:text-white/60">Time:</span>
          <nz-range-picker
            class="inline-flex items-center  w-full rounded-6 border-regular border-1 text-[14px] dark:bg-white/10 dark:border-white/10 px-[20px] py-[12px] min-h-[40px] outline-none placeholder:text-[#A0A0A0] text-theme-gray dark:text-white/60"
            nzFormat="yyyy-MM-dd " [(ngModel)]="datePicker" (ngModelChange)="onChangeDate($event)"></nz-range-picker>

        </div>
        <div class="inline-flex items-center">
          <span class="me-2 dark:text-white/60">Status:</span>
          <nz-select
            class="min-w-[180px] capitalize [&>nz-select-top-control]:border-normal dark:[&>nz-select-top-control]:border-white/10 [&>nz-select-top-control]:bg-white [&>nz-select-top-control]:dark:bg-white/10 [&>nz-select-top-control]:shadow-none [&>nz-select-top-control]:text-dark [&>nz-select-top-control]:dark:text-white/60 [&>nz-select-top-control]:h-[40px] [&>nz-select-top-control]:flex [&>nz-select-top-control]:items-center [&>nz-select-top-control]:rounded-[6px] [&>nz-select-top-control]:px-[20px] [&>.ant-select-arrow]:text-light dark:[&>.ant-select-arrow]:text-white/60"
            [(ngModel)]="filter.status" (ngModelChange)="filterByOption($event,'status')"
            nzPlaceHolder="Select a status" nzAllowClear nzSize="large">
            <nz-option nzValue="" nzLabel="All"></nz-option>
            <nz-option *ngFor="let item of statusData" [nzValue]="item" [nzLabel]="item"></nz-option>
          </nz-select>
        </div>
        <div class="inline-flex items-center">
          <span class="me-2 dark:text-white/60">Order Type:</span>
          <nz-select
            class="min-w-[180px] capitalize [&>nz-select-top-control]:border-normal dark:[&>nz-select-top-control]:border-white/10 [&>nz-select-top-control]:bg-white [&>nz-select-top-control]:dark:bg-white/10 [&>nz-select-top-control]:shadow-none [&>nz-select-top-control]:text-dark [&>nz-select-top-control]:dark:text-white/60 [&>nz-select-top-control]:h-[40px] [&>nz-select-top-control]:flex [&>nz-select-top-control]:items-center [&>nz-select-top-control]:rounded-[6px] [&>nz-select-top-control]:px-[20px] [&>.ant-select-arrow]:text-light dark:[&>.ant-select-arrow]:text-white/60"
            [(ngModel)]="filter.orderType" (ngModelChange)="filterByOption($event,'orderType')"
            nzPlaceHolder="Select a status" nzAllowClear nzSize="large">
            <nz-option nzValue="" nzLabel="All"></nz-option>
            <nz-option *ngFor="let item of orderTypeData" [nzValue]="item" [nzLabel]="item"></nz-option>

          </nz-select>
        </div>
      </div>

    </div>

    <perfect-scrollbar>
      <div class="w-full max-2xl:overflow-x-auto max-h-[450px]">
        <nz-table #basicTable [nzData]="orderData" [nzFrontPagination]="false" [nzShowPagination]="false">
          <thead>
            <tr>
              <th
                class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-dark dark:text-white/[.87] text-[14px] font-medium border-none before:hidden [&:first-child]:rounded-s-[10px] [&:last-child]:rounded-e-[10px] capitalize">
                Customer
              </th>
              <th
                class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-dark dark:text-white/[.87] text-[14px] font-medium border-none before:hidden [&:first-child]:rounded-s-[10px] [&:last-child]:rounded-e-[10px] capitalize">
                Phone
              </th>
              <th
                class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-dark dark:text-white/[.87] text-[14px] font-medium border-none before:hidden [&:first-child]:rounded-s-[10px] [&:last-child]:rounded-e-[10px] capitalize">
                Status
              </th>
              <th
                class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-dark dark:text-white/[.87] text-[14px] font-medium border-none before:hidden [&:first-child]:rounded-s-[10px] [&:last-child]:rounded-e-[10px] capitalize">
                Amount
              </th>
              <th
                class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-dark dark:text-white/[.87] text-[14px] font-medium border-none before:hidden [&:first-child]:rounded-s-[10px] [&:last-child]:rounded-e-[10px] capitalize">
                Date
              </th>
              <th
                class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-end text-dark dark:text-white/[.87] text-[14px] font-medium border-none before:hidden rounded-e-[10px] capitalize ">
                Actions
              </th>
            </tr>
          </thead>
          <tbody>
            <tr class="group max-lg:whitespace-nowrap" *ngFor="let item of orderData">

              <td
                class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[14px] py-4 before:hidden border-none group-hover:bg-transparent ant-table-cell">
                {{ item.customerName }}

              </td>
              <td
                class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[14px] py-4 before:hidden border-none group-hover:bg-transparent ant-table-cell">
                {{ item.phoneNumber || "N/A" }}

              </td>
              <td
                class="ltr:pr-[20px] rtl:pl-[20px] ltr:pl-[20px] rtl:pr-[20px] text-dark dark:text-white/[.87] text-[14px] py-[20px] before:hidden border-none group-hover:bg-transparent">
                <span
                  [ngClass]="' capitalize font-medium inline-flex items-center justify-center min-h-[24px] px-3 rounded-[14px]  text-xs '+ 'bg-'+statusObject[item.status].color+'/10 text-' +statusObject[item.status].color">{{statusObject[item.status].title}}</span>

              </td>
              <td
                class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[14px] py-4 before:hidden border-none group-hover:bg-transparent ant-table-cell">
                {{ (item.totalAmount | currency:'VND':'':'1.0-0'.replace('â‚«', '')) +
                ' VND'}}

              </td>
              <td
                class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[14px] py-4 before:hidden border-none group-hover:bg-transparent ant-table-cell">
                {{ item.created_date }}

              </td>
              <td
                class="ltr:pr-[20px] rtl:pl-[20px] ltr:pl-[20px] rtl:pr-[20px] text-dark dark:text-white/[.87] text-[15px] py-[20px] before:hidden border-none group-hover:bg-transparent">
                <ul class="flex items-center justify-end gap-[15px]">
                  <li>
                    <div class="flex items-center leading-none text-light dark:text-white/60 hover:text-primary">
                      <button (click)="onViewOrderDetail(item.id)" class="[&>svg]:w-[14px] [&>svg]:h-[14px]  " nz-icon
                        nzType="eye" nzTheme="outline" nzTooltipTitle="Detail" nzTooltipPlacement="top"
                        nz-tooltip></button>
                    </div>
                  </li>
                  <li>
                    <div class="flex items-center">
                      <button [disabled]="item.status !== 'Waitting'" (click)="changeStatusOrder(item.id, 'Payment')"
                        class=" text-light dark:text-white/60 [&>svg]:w-[14px] [&>svg]:h-[14px] hover:text-info "
                        nz-icon nzType="credit-card" nzTheme="outline" nzTooltipTitle="Payment" nzTooltipPlacement="top"
                        nz-tooltip>
                      </button>
                    </div>
                  </li>
                  <li>
                    <div class="flex items-center">
                      <button [disabled]="item.status !== 'Waitting'" (click)="changeStatusOrder(item.id, 'Canceled')"
                        class=" text-light dark:text-white/60 [&>svg]:w-[14px] [&>svg]:h-[14px] hover:text-danger"
                        nz-icon nzType="file-excel" nzTheme="outline" nzTooltipTitle="Cancel" nzTooltipPlacement="top"
                        nz-tooltip></button>
                    </div>
                  </li>
                  <li>
                    <div class="flex items-center">
                      <button [disabled]="item.status !== 'Payment' || item.orderType !== 'booking'"
                        (click)="changeStatusOrder(item.id, 'CheckOuted') "
                        class=" text-light dark:text-white/60 [&>svg]:w-[14px] [&>svg]:h-[14px] hover:text-active"
                        nz-icon nzType="check-circle" nzTooltipTitle="Check out" nzTooltipPlacement="top" nz-tooltip
                        nzTheme="outline"></button>
                    </div>
                  </li>
                </ul>
              </td>
            </tr>
          </tbody>
        </nz-table>
      </div>
    </perfect-scrollbar>
    <div class="border-t border-regular dark:border-white/10 pt-[30px] mt-[10px] flex justify-center">
      <nz-pagination [(nzPageSize)]="filter.limit"  [(nzPageIndex)]="filter.page" [nzTotal]="filter.totalDocs"
        (nzPageIndexChange)="fetchOrderData()"></nz-pagination>
    </div>
  </div>
